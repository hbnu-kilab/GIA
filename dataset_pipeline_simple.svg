<svg width="1000" height="600" viewBox="0 0 1000 600" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="grad1" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
    </linearGradient>
    <marker id="arrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto" markerUnits="strokeWidth">
      <path d="M0,0 L0,6 L9,3 z" fill="#2c3e50"/>
    </marker>
  </defs>

  <!-- 배경 -->
  <rect width="1000" height="600" fill="#ffffff"/>

  <!-- 제목 -->
  <text x="500" y="40" text-anchor="middle" style="font-family: Arial; font-size: 24px; font-weight: bold; fill: #2c3e50;">
    Network Dataset Generation Pipeline
  </text>

  <!-- Stage 1: XML Parsing -->
  <g id="stage1">
    <rect x="50" y="100" width="150" height="80" rx="10" fill="#3498db" stroke="#2980b9" stroke-width="2"/>
    <text x="125" y="130" text-anchor="middle" style="font-family: Arial; font-size: 14px; font-weight: bold; fill: white;">📄 Stage 1</text>
    <text x="125" y="150" text-anchor="middle" style="font-family: Arial; font-size: 12px; fill: white;">XML Parsing</text>
    <text x="125" y="165" text-anchor="middle" style="font-family: Arial; font-size: 11px; fill: #ecf0f1;">UniversalParser</text>
  </g>

  <!-- Arrow 1 -->
  <line x1="200" y1="140" x2="250" y2="140" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- Stage 2: Basic Questions -->
  <g id="stage2">
    <rect x="270" y="100" width="150" height="80" rx="10" fill="#27ae60" stroke="#229954" stroke-width="2"/>
    <text x="345" y="130" text-anchor="middle" style="font-family: Arial; font-size: 14px; font-weight: bold; fill: white;">⚙️ Stage 2</text>
    <text x="345" y="150" text-anchor="middle" style="font-family: Arial; font-size: 12px; fill: white;">Basic Questions</text>
    <text x="345" y="165" text-anchor="middle" style="font-family: Arial; font-size: 11px; fill: #d5f4e6;">Rule-based</text>
  </g>

  <!-- Stage 3: Enhanced Questions -->
  <g id="stage3">
    <rect x="270" y="220" width="150" height="80" rx="10" fill="#e67e22" stroke="#d35400" stroke-width="2"/>
    <text x="345" y="250" text-anchor="middle" style="font-family: Arial; font-size: 14px; font-weight: bold; fill: white;">🧠 Stage 3</text>
    <text x="345" y="270" text-anchor="middle" style="font-family: Arial; font-size: 12px; fill: white;">Enhanced Questions</text>
    <text x="345" y="285" text-anchor="middle" style="font-family: Arial; font-size: 11px; fill: #fdeaa7;">LLM + Agent</text>
  </g>

  <!-- Arrow from Stage 1 to Stage 3 -->
  <path d="M 200 140 Q 235 140 235 180 Q 235 220 270 260" 
        stroke="#2c3e50" stroke-width="2" fill="none" marker-end="url(#arrow)"/>

  <!-- Arrows from Stage 2&3 to Stage 4 -->
  <line x1="420" y1="140" x2="480" y2="170" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrow)"/>
  <line x1="420" y1="260" x2="480" y2="210" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- Stage 4: Integration -->
  <g id="stage4">
    <rect x="500" y="160" width="150" height="80" rx="10" fill="#9b59b6" stroke="#8e44ad" stroke-width="2"/>
    <text x="575" y="190" text-anchor="middle" style="font-family: Arial; font-size: 14px; font-weight: bold; fill: white;">🔄 Stage 4</text>
    <text x="575" y="210" text-anchor="middle" style="font-family: Arial; font-size: 12px; fill: white;">Integration</text>
    <text x="575" y="225" text-anchor="middle" style="font-family: Arial; font-size: 11px; fill: #e8daef;">Merge + Context</text>
  </g>

  <!-- Arrow 4 -->
  <line x1="650" y1="200" x2="720" y2="200" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- Stage 5: Evaluation -->
  <g id="stage5">
    <rect x="740" y="160" width="150" height="80" rx="10" fill="#e74c3c" stroke="#c0392b" stroke-width="2"/>
    <text x="815" y="190" text-anchor="middle" style="font-family: Arial; font-size: 14px; font-weight: bold; fill: white;">📊 Stage 5</text>
    <text x="815" y="210" text-anchor="middle" style="font-family: Arial; font-size: 12px; fill: white;">Evaluation</text>
    <text x="815" y="225" text-anchor="middle" style="font-family: Arial; font-size: 11px; fill: #fadbd8;">EM + F1 + BERT</text>
  </g>

  <!-- Arrow to Final Output -->
  <line x1="815" y1="240" x2="815" y2="290" stroke="#2c3e50" stroke-width="2" marker-end="url(#arrow)"/>

  <!-- Final Dataset -->
  <g id="final">
    <rect x="700" y="300" width="230" height="60" rx="15" fill="#34495e" stroke="#2c3e50" stroke-width="2"/>
    <text x="815" y="325" text-anchor="middle" style="font-family: Arial; font-size: 16px; font-weight: bold; fill: white;">📁 Final Dataset</text>
    <text x="815" y="345" text-anchor="middle" style="font-family: Arial; font-size: 12px; fill: #bdc3c7;">Questions + Answers + Metrics</text>
  </g>

  <!-- Network Facts flow -->
  <g id="network-facts" opacity="0.8">
    <rect x="60" y="200" width="130" height="30" rx="15" fill="#85C1E9" stroke="#5DADE2" stroke-width="1"/>
    <text x="125" y="220" text-anchor="middle" style="font-family: Arial; font-size: 11px; font-weight: bold; fill: #1B4F72;">Network Facts</text>
    
    <!-- Dotted lines showing data flow -->
    <line x1="190" y1="215" x2="270" y2="140" stroke="#5DADE2" stroke-width="2" stroke-dasharray="5,5"/>
    <line x1="190" y1="215" x2="270" y2="260" stroke="#5DADE2" stroke-width="2" stroke-dasharray="5,5"/>
  </g>

  <!-- Key Components Box -->
  <g id="components">
    <rect x="50" y="400" width="900" height="150" rx="10" fill="#f8f9fa" stroke="#dee2e6" stroke-width="1"/>
    
    <text x="500" y="430" text-anchor="middle" style="font-family: Arial; font-size: 16px; font-weight: bold; fill: #495057;">Key Components</text>
    
    <!-- Component descriptions -->
    <text x="80" y="460" style="font-family: Arial; font-size: 12px; font-weight: bold; fill: #3498db;">UniversalParser:</text>
    <text x="80" y="475" style="font-family: Arial; font-size: 10px; fill: #6c757d;">Converts XML network configs to structured facts</text>
    
    <text x="320" y="460" style="font-family: Arial; font-size: 12px; font-weight: bold; fill: #27ae60;">RuleBasedGenerator:</text>
    <text x="320" y="475" style="font-family: Arial; font-size: 10px; fill: #6c757d;">Creates basic questions using predefined rules</text>
    
    <text x="580" y="460" style="font-family: Arial; font-size: 12px; font-weight: bold; fill: #e67e22;">EnhancedLLMGenerator:</text>
    <text x="580" y="475" style="font-family: Arial; font-size: 10px; fill: #6c757d;">Generates complex questions using LLM</text>
    
    <text x="80" y="510" style="font-family: Arial; font-size: 12px; font-weight: bold; fill: #9b59b6;">Integration:</text>
    <text x="80" y="525" style="font-family: Arial; font-size: 10px; fill: #6c757d;">Merges all questions and creates unified context</text>
    
    <text x="320" y="510" style="font-family: Arial; font-size: 12px; font-weight: bold; fill: #e74c3c;">ComprehensiveEvaluator:</text>
    <text x="320" y="525" style="font-family: Arial; font-size: 10px; fill: #6c757d;">Calculates evaluation metrics for quality assessment</text>
  </g>

  <!-- Data Types -->
  <g id="data-types" opacity="0.9">
    <text x="500" y="380" text-anchor="middle" style="font-family: Arial; font-size: 14px; font-weight: bold; fill: #495057;">Data Types</text>
    <text x="150" y="395" text-anchor="middle" style="font-family: Arial; font-size: 10px; fill: #6c757d;">Network Facts</text>
    <text x="300" y="395" text-anchor="middle" style="font-family: Arial; font-size: 10px; fill: #6c757d;">Basic Questions</text>
    <text x="500" y="395" text-anchor="middle" style="font-family: Arial; font-size: 10px; fill: #6c757d;">Enhanced Questions</text>
    <text x="700" y="395" text-anchor="middle" style="font-family: Arial; font-size: 10px; fill: #6c757d;">Integrated Dataset</text>
    <text x="850" y="395" text-anchor="middle" style="font-family: Arial; font-size: 10px; fill: #6c757d;">Final Dataset</text>
  </g>
</svg> 